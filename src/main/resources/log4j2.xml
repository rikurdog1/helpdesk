<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="ALL">
    <Properties>
        <Property name="mascara">%d{yyyy-MM-dd HH:mm:ss.SSS} - [%X{TRNSID}] - %-5level %logger{36} - Metodo: %M linea: %L %msg%n</Property>
   
    </Properties>
   
    <Appenders>
        <Console name="LogToConsole" target="SYSTEM_OUT">
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} - [%X{TRNSID}] - %-5level %logger{36} - %M %L %msg%n"/>            
        </Console>
               
        <RollingFile name="RollingFile" 
          fileName="C:/log/ocpp.log"
          filePattern="../logs/ocpp-%d{yyyy-MM-dd}.log.gz"
          ignoreExceptions="false">
            <PatternLayout>
                <Pattern>${mascara}</Pattern>
            </PatternLayout>
            <TimeBasedTriggeringPolicy interval="1" modulate="true"/>           
            <DefaultRolloverStrategy>
                <Delete basePath="../logs/" maxDepth="2">
                    <IfFileName glob="ocpp-*.log.gz" />
                    <IfLastModified age="P30D" />
                </Delete>
            </DefaultRolloverStrategy>         
        </RollingFile>                                                        
    </Appenders>
    
    
    <Loggers>
        <Logger name="*" level="ALL" additivity="false">
            <!--AppenderRef ref="LogToFile"/-->
            <AppenderRef ref="LogToConsole"/>
            <AppenderRef ref="RollingFile"/>
        </Logger>
             
        <Root name="*" level="ALL" additivity="false">
            <!--AppenderRef ref="LogToFile"/-->
            <AppenderRef ref="LogToConsole"/>
            <AppenderRef ref="RollingFile"/>
        </Root>
    </Loggers>
</Configuration>


